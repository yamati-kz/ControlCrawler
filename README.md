# ロボット制御用ソフトウェア 要件定義書

## 1. 文書の目的
本書は、ロボット制御用ソフトウェアの開発に必要な要件を定義し、関係者間で共通の理解を形成することを目的としています。本プロジェクトでは、ROS 2およびmros 2-esp32を使用してロボットの原理試作を実施します。

## 2. システム概要

### 2.1 背景
本試作を通じて、ROS 2およびESP32による分散制御環境を構築し、センサー入力およびモータ制御に関する基本的な機能を実現することを目指します。

### 2.2 システムの概要
本システムは以下の要素で構成されます。

#### 2.2.1 ハードウェア
- **Nvidia Jetson Orin Nano Developer Kit**
- **Seeed Studio XIAO ESP32C6**
- **Seeed Studio XIAO ESP32C2**
- **Dealsense DCモータ**
- **HC-SR04超音波センサ**
- **ユニバーサル基板**（モータドライバIC、DCモータ、超音波センサ、制御マイコン搭載）
- **安定化電源**（Matsusada Precision製、12V出力）

#### 2.2.2 ソフトウェア
- **ROS 2** (Ubuntu 22.04 LTS)
- **ESP-IDF** (Ubuntu 22.04 LTS)

## 3. スコープ

### 3.1 対象範囲
- ユニバーサル基板を用いたハードウェア構成の試作
- ROS 2およびESP32を使用した制御ソフトウェアの開発
- DCモータおよび超音波センサの動作確認

### 3.2 除外範囲
- 実運用に耐えうる設計および製品化
- 長期間の耐久試験

## 4. 要件

### 4.1 機能要件

#### 4.1.1 DCモータ制御
- ESP32C6を使用し、DCモータをモータドライバICを介して制御
- 前進、後退、停止を実現
- ROS 2コマンドに基づく動作

#### 4.1.2 超音波センサのデータ取得
- ESP32C3を使用し、HC-SR04センサから距離データを取得
- 距離データをROS 2コマンドとして発行

#### 4.1.3 コマンド操作
- Ubuntu上でDualSenseを操作し、ROS 2コマンドを発行
- モータ制御（前進、後退、停止）の指示を送信

### 4.2 非機能要件
- リアルタイム性: センサー入力からモータ制御までの遅延を200ms以下
- 信頼性: コマンド送信成功率99%以上
- 互換性: Ubuntu 22.04 LTS環境下での動作保証

## 5. 使用ハードウェア
- Nvidia Jetson Orin Nano Developer Kit
